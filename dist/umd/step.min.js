!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],e);else{var n=e("object"==typeof exports?require("d3"):t.d3);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r;r=function(t){"use strict";var e=n(1),r=n(2);return function(){function t(t){t.each(function(t){v=f-d.left-d.right,x=h-d.top-d.bottom,g=c(t),a(),n(),i(this),u(),s(),l()})}function n(){m=e.svg.axis().scale(A).orient("bottom"),O=e.svg.axis().scale(E).orient("left").ticks(T).tickFormat(M)}function o(){var t=L.append("g").classed("container-group",!0).attr("transform","translate("+d.left+", "+d.top+")");t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("x-axis-group axis",!0).append("g").classed("x-axis-label",!0),t.append("g").classed("y-axis-group axis",!0).append("g").classed("y-axis-label",!0)}function a(){A=e.scale.ordinal().domain(g.map(P)).rangeRoundBands([0,v]),E=e.scale.linear().domain([0,e.max(g,U)]).range([x,0])}function i(t){L||(L=e.select(t).append("svg").classed("britechart step-chart",!0),o()),L.transition().ease(p).attr({width:f+d.left+d.right,height:h+d.top+d.bottom})}function c(t){return t.map(function(t){return t.value=+t[I],t.key=String(t[D]),t})}function l(){L.select(".x-axis-group.axis").attr("transform","translate(0, "+x+")").call(m),y&&L.select(".x-axis-label").append("text").attr({"text-anchor":"middle",x:v/2,y:b}).text(y),L.select(".y-axis-group.axis").call(O),S&&L.select(".y-axis-label").append("text").attr({x:x/-2,y:R,"text-anchor":"middle",transform:"rotate(270 0 0)"}).text(S)}function s(){var t=A.rangeBand(),e=L.select(".chart-group").selectAll(".step").data(g);e.enter().append("rect").classed("step",!0).attr({width:t,x:v,y:function(t){var e=t.value;return E(e)},height:function(t){return x-E(t.value)}}).on("mouseover",w.customHover),e.transition().ease(p).attr({width:t,x:function(t){var e=t.key;return A(e)},y:function(t){return E(t.value)},height:function(t){return x-E(t.value)}}),e.exit().transition().style({opacity:0}).remove()}function u(){N=L.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(E.ticks(T)).enter().append("line").attr({"class":"horizontal-grid-line",x1:C.left,x2:v,y1:function(t){return E(t)},y2:function(t){return E(t)}}),B=L.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr({"class":"extended-x-line",x1:C.left,x2:v,y1:h-d.bottom-d.top,y2:h-d.bottom-d.top})}var d={top:20,right:20,bottom:30,left:40},f=960,h=500,p="ease",g=void 0,v=void 0,x=void 0,A=void 0,E=void 0,T=6,m=void 0,y=void 0,O=void 0,S=void 0,b=45,R=-40,C={top:0,left:0,bottom:0,right:0},L=void 0,I="value",D="key",N=void 0,B=void 0,w=e.dispatch("customHover"),M=e.format(".1f"),P=function(t){var e=t.key;return e},U=function(t){var e=t.value;return e};return t.margin=function(t){return arguments.length?(d=t,this):d},t.width=function(t){return arguments.length?(f=t,this):f},t.height=function(t){return arguments.length?(h=t,this):h},t.numOfVerticalTicks=function(t){return arguments.length?(T=t,this):T},t.xAxisLabel=function(t){return arguments.length?(y=t,this):y},t.xAxisLabelOffset=function(t){return arguments.length?(b=t,this):b},t.yAxisLabel=function(t){return arguments.length?(S=t,this):S},t.yAxisLabelOffset=function(t){return arguments.length?(R=t,this):R},t.exportChart=function(e){r.call(t,L,e)},e.rebind(t,w,"on"),t}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(e,n){e.exports=t},function(t,e,n){var r;r=function(t){"use strict";function e(t,e){var n=this.width(),c=this.height(),l=o(t),s=a(n,c),u=i(l);u.onload=r.bind(u,s,e)}function r(t,e,n){n.preventDefault(),c(this,t),l(t,e||d.defaultFilename)}function o(t){var e=s.initializeSerializer();if(t){t.attr({version:1.1,xmlns:"http://www.w3.org/2000/svg"});var n=e(t.node());return n.replace(">",">"+d.styleBackgroundString)}}function a(t,e){var n=document.createElement("canvas");return n.height=e,n.width=t,n}function i(t){var e=new Image;return e.src=""+d.imageSourceBase+u(t),e}function c(t,e){e.getContext("2d").drawImage(t,0,0)}function l(t){var e=arguments.length<=1||void 0===arguments[1]?"britechart.png":arguments[1],n=arguments.length<=2||void 0===arguments[2]?"image/png":arguments[2],r=t.toDataURL(n),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)}var s=n(3),u=window.btoa;u||(u=n(4).encode);var d={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"white",imageSourceBase:"data:image/svg+xml;base64,",get styleBackgroundString(){return"<style>svg{background:"+this.chartBackground+";}</style>"}};return e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e){"use strict";t.exports=function(){return{initializeSerializer:function(){function t(t){var e={},n=document.body.appendChild(document.createElement(t)),r=window.getComputedStyle(n);return[].forEach.call(r,function(t){e[t]=r[t]}),document.body.removeChild(n),e}function e(e){return e=e.toUpperCase(),r[e]||(r[e]=t(e)),r[e]}function n(t){var n=[],r=void 0,a=void 0,i=void 0,c=void 0;return t&&t.nodeType===Node.ELEMENT_NODE?(n=[],r=t.querySelectorAll("*"),[].forEach.call(r,function(t,r){o[t.tagName]||(a=window.getComputedStyle(t),i=e(t.tagName),n[r]=t.style.cssText,[].forEach.call(a,function(e){a[e]!==i[e]&&(t.style[e]=a[e])}))}),c=t.outerHTML,r=[].map.call(r,function(t,e){return t.style.cssText=n[e],t}),c):void console.error("Error: Object passed in to serializeWithSyles not of nodeType Node.ELEMENT_NODE")}var r={},o={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},a=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"];return[].forEach.call(a,function(e){o[e]||(r[e]=t(e))}),n}}}()},function(t,e,n){var r;(function(t,o){!function(a){var i="object"==typeof e&&e,c=("object"==typeof t&&t&&t.exports==i&&t,"object"==typeof o&&o);c.global!==c&&c.window!==c||(a=c);var l=function(t){this.message=t};l.prototype=new Error,l.prototype.name="InvalidCharacterError";var s=function(t){throw new l(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,f=function(t){t=String(t).replace(d,"");var e=t.length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,o=0,a="",i=-1;++i<e;)r=u.indexOf(t.charAt(i)),n=o%4?64*n+r:r,o++%4&&(a+=String.fromCharCode(255&n>>(-2*o&6)));return a},h=function(t){t=String(t),/[^\0-\xFF]/.test(t)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,o,a=t.length%3,i="",c=-1,l=t.length-a;++c<l;)e=t.charCodeAt(c)<<16,n=t.charCodeAt(++c)<<8,r=t.charCodeAt(++c),o=e+n+r,i+=u.charAt(o>>18&63)+u.charAt(o>>12&63)+u.charAt(o>>6&63)+u.charAt(63&o);return 2==a?(e=t.charCodeAt(c)<<8,n=t.charCodeAt(++c),o=e+n,i+=u.charAt(o>>10)+u.charAt(o>>4&63)+u.charAt(o<<2&63)+"="):1==a&&(o=t.charCodeAt(c),i+=u.charAt(o>>2)+u.charAt(o<<4&63)+"=="),i},p={encode:h,decode:f,version:"0.1.0"};r=function(){return p}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(5)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])});
//# sourceMappingURL=step.min.js.map