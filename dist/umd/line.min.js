!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("d3"),require("underscore"));else if("function"==typeof define&&define.amd)define(["d3","underscore"],e);else{var n="object"==typeof exports?e(require("d3"),require("underscore")):e(t.d3,t.underscore);for(var a in n)("object"==typeof exports?exports:t)[a]=n[a]}}(this,function(t,e){return function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var a;a=function(t){"use strict";var e=n(2),a=n(1);return function(){function t(t){t.each(function(t){O=T-C.left-C.right,S=A-C.top-C.bottom,N=t.data,Q=t.dataByDate,U=t.readableDataType,s(),o(),c(this),p(),u(),d(),F()&&(m(),f(),n())})}function n(){B.on("mouseover",k).on("mouseout",D).on("mousemove",b)}function r(t){t.selectAll(".tick text").attr("transform","translate(0, -7)")}function o(){P=a.svg.axis().scale(q).orient("bottom").ticks(v(T,Q.length)).tickSize(10,0).tickPadding(5).tickFormat(it),I=a.svg.axis().scale(q).ticks(a.time.months).tickSize(0,0).orient("bottom").tickFormat(st),Z=a.svg.axis().scale(E).orient("left").ticks(X).tickSize([0]).tickPadding([4]).tickFormat(ot)}function i(){var t=B.append("g").classed("container-group",!0).attr("transform","translate("+C.left+","+C.top+")");t.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),t.selectAll(".x-axis-group").append("g").classed("month-axis",!0),t.append("g").classed("y-axis-group axis y",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}function s(){var t=a.min(N,function(t){return a.min(t.Data,et)}),n=a.max(N,function(t){return a.max(t.Data,et)}),r=a.min(N,function(t){return a.min(t.Data,nt)}),o=a.max(N,function(t){return a.max(t.Data,nt)});q=a.time.scale().rangeRound([0,O]).domain([t,n]),E=a.scale.linear().rangeRound([S,0]).domain([Math.abs(r),Math.abs(o)]).nice(3),R=a.scale.ordinal().range(H).domain(N.map(at)),K=e.object(R.domain(),R.range())}function c(t){B||(B=a.select(t).append("svg").classed("britechart line-chart",!0),i()),B.transition().ease(L).attr({width:T,height:A})}function l(){_.selectAll(".circle-container").remove()}function u(){B.select(".x-axis-group .axis.x").transition().ease(L).attr("transform","translate(0,"+S+")").call(P),B.select(".x-axis-group .month-axis").transition().ease(L).attr("transform","translate(0,"+(S+28)+")").call(I),B.select(".y-axis-group.axis.y").transition().ease(L).attr("transform","translate("+-G.left+", 0)").call(Z).call(r)}function d(){var t=void 0,e=void 0,n=void 0;e=a.svg.line().x(function(t){return q(t.date)}).y(function(t){return E(t.value)}),t=B.select(".chart-group").selectAll(".line").data(N),t.enter().append("g").attr("class","topic").append("path").attr("class","line").attr("d",function(t){return e(t.Data)}).style({stroke:rt}),t.exit().remove(),n=B.append("rect").attr("class","masking-rectangle").attr("width",T-30).attr("height",A+20).attr("x",60).attr("y",-18),n.transition().duration(2e3).ease("cubic-out").attr("x",T).each("end",function(){n.remove()})}function p(){W=B.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(E.ticks(5)).enter().append("line").attr({"class":"horizontal-grid-line",x1:-G.left-30,x2:O,y1:function(t){return E(t)},y2:function(t){return E(t)}}),V=B.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr({"class":"extended-x-line",x1:-G.left-30,x2:O,y1:A-C.bottom-C.top,y2:A-C.bottom-C.top})}function f(){Y=B.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",A).attr("height",A-C.top-C.bottom).attr("width",T-C.left-C.right).attr("fill",$).style("display","none")}function m(){_=B.select(".metadata-group").append("g").attr("class","hover-marker").attr("transform","translate(9999,0)"),tt=_.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr({x1:0,y1:A-C.top-C.bottom,x2:0,y2:0})}function g(t,e,n){return new Date(t).getTime()-new Date(e.date).getTime()>new Date(n.date).getTime()-new Date(t).getTime()?e:n}function v(t,e){var n=20,a=40,r=Math.ceil(t/(n+a));return Math.min(e,r)}function h(t){return a.mouse(t)[0]}function x(t){return t.toISOString().split("T")[0]+"T00:00:00Z"}function y(t){var e=q.invert(t),n=a.bisector(et).left,r=void 0,o=void 0,i=void 0,s=void 0,c=void 0;return o=x(e),r=n(Q,o,1),i=Q[r],s=Q[r-1],c=s&&i?g(o,i,s):i}function b(){var t=-C.left,e=y(h(this)+t),n=void 0;e&&(w(e),M(e),n=q(new Date(e.date)),ct.customMouseMove(e,K,n))}function D(t){Y.style("display","none"),tt.classed("bc-is-active",!1),_.attr("transform","translate(9999,0)"),ct.customMouseOut(t)}function k(t){Y.style("display","block"),tt.classed("bc-is-active",!0),ct.customMouseOver(t)}function M(t){l(),t.topics=e.chain(t.topics).compact().sortBy(function(t){return J[K[t.name]]}).value(),t.topics.forEach(function(e,n){var a=_.append("g").classed("circle-container",!0),r=12;a.append("circle").classed("data-point-highlighter",!0).attr({cx:r,cy:0,r:5}).style({stroke:K[e.name]}),a.attr("transform","translate("+-r+","+E(t.topics[n].value)+")")})}function w(t){var e=new Date(t.date),n=q(e);_.attr("transform","translate("+n+",0)")}function F(){return T>z}var C={top:60,right:20,bottom:60,left:80},T=960,A=500,j=null,z=480,B=void 0,O=void 0,S=void 0,q=void 0,E=void 0,R=void 0,P=void 0,I=void 0,Z=void 0,G={top:0,left:15,bottom:0,right:0},H=["#4DC2F5","#4DDB86","#E5C400","#FF4D7C","#9963D5","#051C48"],J={"#4DC2F5":0,"#4DDB86":1,"#E5C400":2,"#FF4D7C":3,"#9963D5":4,"#051C48":5},K=void 0,L="ease",N=void 0,Q=void 0,U=void 0,V=void 0,W=void 0,X=5,Y=void 0,$="rgba(0, 0, 0, 0)",_=void 0,tt=void 0,et=function(t){return t.date},nt=function(t){return t.value},at=function(t){return t.topic},rt=function(t){return R(t.topic)},ot=a.format("s"),it=a.time.format("%e"),st=a.time.format("%B"),ct=a.dispatch("customMouseOver","customMouseOut","customMouseMove");return t.aspectRatio=function(t){return arguments.length?(j=t,this):j},t.height=function(t){return arguments.length?(j&&(T=Math.ceil(t/j)),A=t,this):A},t.margin=function(t){return arguments.length?(C=t,this):C},t.tooltipThreshold=function(t){return arguments.length?(z=t,this):z},t.width=function(t){return arguments.length?(j&&(A=Math.ceil(t*j)),T=t,this):T},a.rebind(t,ct,"on"),t}}.call(e,n,e,t),!(void 0!==a&&(t.exports=a))},function(e,n){e.exports=t},function(t,n){t.exports=e}])});
//# sourceMappingURL=line.min.js.map