!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],e);else{var n=e("object"==typeof exports?require("d3"):t.d3);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r;r=function(t){"use strict";var e=n(1),r=n(2),a=n(7);return function(){function t(t){t.each(function(t){Q=t.data,W=t.dataByDate,N=M-R.left-R.right,P=B-R.top-R.bottom,s(),i(),d(this),h(),f(),l(),p(),O()&&(m(),v(),n())})}function n(){L.on("mouseover",C).on("mouseout",y).on("mousemove",T)}function o(t){t.selectAll(".tick text").attr("transform","translate(0, -7)")}function i(){var t=W.length<5?e.time.days:x(M,W.length);G=e.svg.axis().scale(k).orient("bottom").ticks(t).tickSize(10,0).tickPadding(5).tickFormat(ct),H=e.svg.axis().scale(k).ticks(e.time.months).tickSize(0,0).orient("bottom").tickFormat(lt),z=e.svg.axis().scale(F).orient("left").ticks(Z).tickSize([0]).tickPadding([4]).tickFormat(it)}function c(){var t=L.append("g").classed("container-group",!0).attr("transform","translate("+R.left+","+R.top+")");t.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),t.selectAll(".x-axis-group").append("g").classed("month-axis",!0),t.append("g").classed("y-axis-group axis y",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}function l(){L.select(".metadata-group").append("linearGradient").attr("id","line-area-gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").selectAll("stop").data([{offset:"0%",color:V[0]},{offset:"100%",color:V[1]}]).enter().append("stop").attr("offset",function(t){var e=t.offset;return e}).attr("stop-color",function(t){var e=t.color;return e})}function s(){var t=e.min(Q,function(t){var n=t.Data;return e.min(n,nt)}),n=e.max(Q,function(t){var n=t.Data;return e.max(n,nt)}),r=e.min(Q,function(t){var n=t.Data;return e.min(n,rt)}),a=e.max(Q,function(t){var n=t.Data;return e.max(n,rt)});k=e.time.scale().rangeRound([0,N]).domain([t,n]),F=e.scale.linear().rangeRound([P,0]).domain([Math.abs(r),Math.abs(a)]).nice(3),U=e.scale.ordinal().range(Y).domain(Q.map(at));var o=U.range();K=U.domain().reduce(function(t,e,n){return t[e]=o[n],t},{})}function d(t){L||(L=e.select(t).append("svg").classed("britechart line-chart",!0),c()),L.transition().ease(q).attr({width:M,height:B})}function u(){_.selectAll(".circle-container").remove()}function f(){L.select(".x-axis-group .axis.x").transition().ease(q).attr("transform","translate(0, "+P+")").call(G),L.select(".x-axis-group .month-axis").transition().ease(q).attr("transform","translate(0, "+(P+28)+")").call(H),L.select(".y-axis-group.axis.y").transition().ease(q).attr("transform","translate("+-j.left+", 0)").call(z).call(o)}function p(){var t=void 0,n=void 0,r=void 0;n=e.svg.line().x(function(t){var e=t.date;return k(e)}).y(function(t){var e=t.value;return F(e)}),t=L.select(".chart-group").selectAll(".line").data(Q),t.enter().append("g").attr("class","topic").append("path").attr("class","line").attr("d",function(t){var e=t.Data;return n(e)}).style("stroke",function(t){return 1===Q.length?"url(#line-area-gradient)":ot(t)}),t.exit().remove(),r=L.append("rect").attr("class","masking-rectangle").attr("width",M-30).attr("height",B+20).attr("x",60).attr("y",-18),r.transition().duration(2e3).ease("cubic-out").attr("x",M).each("end",function(){return r.remove()})}function h(){tt=L.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(F.ticks(5)).enter().append("line").attr({"class":"horizontal-grid-line",x1:-j.left-30,x2:N,y1:function(t){return F(t)},y2:function(t){return F(t)}}),et=L.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr({"class":"extended-x-line",x1:-j.left-30,x2:N,y1:B-R.bottom-R.top,y2:B-R.bottom-R.top})}function v(){J=L.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",B).attr("height",B-R.top-R.bottom).attr("width",M-R.left-R.right).attr("fill",X).style("display","none")}function m(){_=L.select(".metadata-group").append("g").attr("class","hover-marker vertical-marker-container").attr("transform","translate(9999, 0)"),$=_.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr({x1:0,y1:B-R.top-R.bottom,x2:0,y2:0})}function g(t,e,n){return new Date(t).getTime()-new Date(e.date).getTime()>new Date(n.date).getTime()-new Date(t).getTime()?e:n}function x(t,e){var n=20,r=40,a=Math.ceil(t/(n+r));return Math.min(e,a)}function A(t){return e.mouse(t)[0]}function E(t){return t.toISOString().split("T")[0]+"T00:00:00Z"}function b(t){var n=k.invert(t),r=e.bisector(nt).left,a=void 0,o=void 0,i=void 0,c=void 0,l=void 0;return o=E(n),a=r(W,o,1),i=W[a],c=W[a-1],l=c&&i?g(o,i,c):i}function T(){var t=-R.left,e=b(A(this)+t),n=void 0;e&&(n=k(new Date(e.date)),D(n),S(e),st.customMouseMove(e,K,n))}function y(t){J.style("display","none"),$.classed("bc-is-active",!1),_.attr("transform","translate(9999, 0)"),st.customMouseOut(t)}function C(t){J.style("display","block"),$.classed("bc-is-active",!0),st.customMouseOver(t)}function S(t){u(),t.topics=t.topics.filter(function(t){return!!t}).sort(function(t,e){return K[t.name]>K[e.name]}),t.topics.forEach(function(e,n){var r=e.name,a=_.append("g").classed("circle-container",!0),o=12;a.append("circle").classed("data-point-highlighter",!0).attr({cx:o,cy:0,r:5}).style({stroke:K[r]}),a.attr("transform","translate( "+-o+", "+F(t.topics[n].value)+" )")})}function D(t){_.attr("transform","translate("+t+",0)")}function O(){return M>w}var R={top:60,right:20,bottom:60,left:80},M=960,B=500,I=null,w=480,L=void 0,N=void 0,P=void 0,k=void 0,F=void 0,U=void 0,G=void 0,H=void 0,z=void 0,j={top:0,left:15,bottom:0,right:0},Y=a.britechartsColorSchema,V=a.britechartGradients.greenBlueGradient,K=void 0,q="ease",Q=void 0,W=void 0,Z=5,J=void 0,X="rgba(0, 0, 0, 0)",_=void 0,$=void 0,tt=void 0,et=void 0,nt=function(t){var e=t.date;return e},rt=function(t){var e=t.value;return e},at=function(t){var e=t.topic;return e},ot=function(t){var e=t.topic;return U(e)},it=e.format("s"),ct=e.time.format("%e"),lt=e.time.format("%b"),st=e.dispatch("customMouseOver","customMouseOut","customMouseMove");return t.aspectRatio=function(t){return arguments.length?(I=t,this):I},t.ease=function(t){return arguments.length?(q=t,this):q},t.height=function(t){return arguments.length?(I&&(M=Math.ceil(t/I)),B=t,this):B},t.margin=function(t){return arguments.length?(R=t,this):R},t.tooltipThreshold=function(t){return arguments.length?(w=t,this):w},t.width=function(t){return arguments.length?(I&&(B=Math.ceil(t*I)),M=t,this):M},t.exportChart=function(e){r.call(t,L,e)},e.rebind(t,st,"on"),t}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(e,n){e.exports=t},function(t,e,n){var r;r=function(t){"use strict";function e(t,e){var n=this.width(),c=this.height(),l=a(t),s=o(n,c),d=i(l);d.onload=r.bind(d,s,e)}function r(t,e,n){n.preventDefault(),c(this,t),l(t,e||u.defaultFilename)}function a(t){var e=s.initializeSerializer();if(t){t.attr({version:1.1,xmlns:"http://www.w3.org/2000/svg"});var n=e(t.node());return n.replace(">",">"+u.styleBackgroundString)}}function o(t,e){var n=document.createElement("canvas");return n.height=e,n.width=t,n}function i(t){var e=new Image;return e.src=""+u.imageSourceBase+d(t),e}function c(t,e){e.getContext("2d").drawImage(t,0,0)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"britechart.png",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=t.toDataURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}var s=n(3),d=window.btoa;d||(d=n(4).encode);var u={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"white",imageSourceBase:"data:image/svg+xml;base64,",get styleBackgroundString(){return"<style>svg{background:"+this.chartBackground+";}</style>"}};return e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e){"use strict";t.exports=function(){return{initializeSerializer:function(){function t(t){var e={},n=document.body.appendChild(document.createElement(t)),r=window.getComputedStyle(n);return[].forEach.call(r,function(t){e[t]=r[t]}),document.body.removeChild(n),e}function e(e){return e=e.toUpperCase(),r[e]||(r[e]=t(e)),r[e]}function n(t){var n=[],r=void 0,o=void 0,i=void 0,c=void 0;return t&&t.nodeType===Node.ELEMENT_NODE?(n=[],r=t.querySelectorAll("*"),[].forEach.call(r,function(t,r){a[t.tagName]||(o=window.getComputedStyle(t),i=e(t.tagName),n[r]=t.style.cssText,[].forEach.call(o,function(e){o[e]!==i[e]&&(t.style[e]=o[e])}))}),c=t.outerHTML,r=[].map.call(r,function(t,e){return t.style.cssText=n[e],t}),c):void console.error("Error: Object passed in to serializeWithSyles not of nodeType Node.ELEMENT_NODE")}var r={},a={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},o=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"];return[].forEach.call(o,function(e){a[e]||(r[e]=t(e))}),n}}}()},function(t,e,n){var r;(function(t,a){!function(o){var i="object"==typeof e&&e,c=("object"==typeof t&&t&&t.exports==i&&t,"object"==typeof a&&a);c.global!==c&&c.window!==c||(o=c);var l=function(t){this.message=t};l.prototype=new Error,l.prototype.name="InvalidCharacterError";var s=function(t){throw new l(t)},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,f=function(t){t=String(t).replace(u,"");var e=t.length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,a=0,o="",i=-1;++i<e;)r=d.indexOf(t.charAt(i)),n=a%4?64*n+r:r,a++%4&&(o+=String.fromCharCode(255&n>>(-2*a&6)));return o},p=function(t){t=String(t),/[^\0-\xFF]/.test(t)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,a,o=t.length%3,i="",c=-1,l=t.length-o;++c<l;)e=t.charCodeAt(c)<<16,n=t.charCodeAt(++c)<<8,r=t.charCodeAt(++c),a=e+n+r,i+=d.charAt(a>>18&63)+d.charAt(a>>12&63)+d.charAt(a>>6&63)+d.charAt(63&a);return 2==o?(e=t.charCodeAt(c)<<8,n=t.charCodeAt(++c),a=e+n,i+=d.charAt(a>>10)+d.charAt(a>>4&63)+d.charAt(a<<2&63)+"="):1==o&&(a=t.charCodeAt(c),i+=d.charAt(a>>2)+d.charAt(a<<4&63)+"=="),i},h={encode:p,decode:f,version:"0.1.0"};r=function(){return h}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(5)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,function(t,e,n){var r;r=function(t){var e=["#6CEDC8","#3DC3C9","#FBC670","#F766B8","#998EE3","#824a9e"],n=["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],r={greenBlueGradient:["#39C7EA","#4CDCBA"]},a=["#f9e9c5","#fcc870","#ffa71a","#fb8825","#f6682f","#db5a2c","#bf4c28","#a43b1c","#892a10"],o=["#ccf7f6","#70e4e0","#00d8d2","#00acaf","#007f8c","#005e66","#003c3f","#002d2f","#0d2223"],i=["#ccfffe","#94f7f4","#00fff8","#1de1e1","#39c2c9","#2e9a9d","#227270","#1a5957","#133f3e"],c=["#edfff7","#d7ffef","#c0ffe7","#95f5d7","#6aedc7","#59c3a3","#479980","#34816a","#206953"],l=["#f9f2b3","#fbe986","#fce05a","#fed72d","#ffce00","#fcc11c","#f9b438","#eda629","#e09819"],s=["#fdd1ea","#fb9cd2","#f866b9","#fc40b6","#ff1ab3","#e3239d","#c62c86","#a62073","#85135f"],d=["#ddd6fc","#bbb1f0","#998ce3","#8e6bc1","#824a9e","#77337f","#6b1c60","#591650","#470f3f"],u=["#ffd8d4","#ffb5b0","#ff938c","#ff766c","#ff584c","#f04b42","#e03d38","#be2e29","#9c1e19"];return{britechartsColorSchema:e,britechartsGreySchema:n,britechartGradients:r,extendedOrangeColorSchema:a,extendedBlueColorSchema:o,extendedLightBlueColorSchema:i,extendedGreenColorSchema:c,extendedYellowColorSchema:l,extendedPinkColorSchema:s,extendedPurpleColorSchema:d,extendedRedColorSchema:u}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}])});
//# sourceMappingURL=line.min.js.map