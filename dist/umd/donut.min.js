!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("d3"));else if("function"==typeof define&&define.amd)define(["d3"],e);else{var n=e("object"==typeof exports?require("d3"):t.d3);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r;r=function(t){"use strict";var e=n(1),r=n(2),a=n(6),o=n(7);return function(){function t(t){t.each(function(t){B=x-C.left-C.right,I=b-C.top-C.bottom,N=l(t),i(),n(),u(),d(this),s(),m()})}function n(){Y&&(q=e.scale.ordinal().range(Y))}function c(){var t=G.append("g").classed("container-group",!0).attr({transform:"translate("+x/2+", "+b/2+")"});t.append("g").classed("chart-group",!0),t.append("g").classed("legend-group",!0)}function i(){F=e.layout.pie().padAngle(L).value(Q).sort(_)}function u(){H=e.svg.arc().innerRadius(w).padRadius(M)}function d(t){G=e.select(t).selectAll("svg").data([N]),G.enter().append("svg").attr("class","britechart donut-chart"),c(),G.transition().ease(S).attr("width",x+C.left+C.right).attr("height",b+C.top+C.bottom)}function l(t){return t.map(function(t){return t.quantity=+t[j],t.name=String(t[z]),t.percentage=String(t[k]),t})}function f(t){t.data&&(G.select(".donut-text").text(function(){return t.data.percentage+"% "+t.data.name}).attr("dy",".2em").attr("text-anchor","middle"),G.select(".donut-text").call(T,P))}function s(){U?(U=G.select(".chart-group").selectAll("path").data(F(N)),U.attr("d",H),U.transition().duration(R).attrTween("d",v)):(U=G.select(".chart-group").selectAll("g.arc").data(F(N)),U.enter().append("g").each(V).each(K).classed("arc",!0).on("mouseover",p).on("mouseout",g),U.append("path").attr("fill",W).on("mouseover",E(M,0)).on("mouseout",E(M-D,O)).transition().ease(S).duration(y).attrTween("d",A))}function h(){G.select(".donut-text").text("")}function p(t){f(t),J.customMouseOver(t)}function g(){h(),J.customMouseOut()}function m(){G.select(".legend-group").append("text").attr("class","donut-text")}function v(t){var n=e.interpolate(this._current,t);return this._current=n(0),function(t){return H(n(t))}}function E(t,n){return function(){e.select(this).transition().delay(n).attrTween("d",function(n){var r=e.interpolate(n.outerRadius,t);return function(t){return n.outerRadius=r(t),H(n)}})}}function A(t){var n=void 0;return t.innerRadius=0,n=e.interpolate({startAngle:0,endAngle:0},t),function(t){return H(n(t))}}function T(t,e){var n=M/5;a.wrapText.call(null,n,e,t.node())}var C={top:60,right:60,bottom:60,left:60},x=300,b=300,S="cubic-in-out",R=750,y=1200,O=150,D=15,L=.015,N=void 0,B=void 0,I=void 0,M=140,w=45.5,P=M+w,F=void 0,H=void 0,U=void 0,G=void 0,j="quantity",z="name",k="percentage",q=e.scale.category20c(),Y=o.britechartsColorSchema,V=function(t){this._current=t},K=function(t){t.outerRadius=M-D},_=function(t,e){return e.quantity-t.quantity},Q=function(t){var e=t.quantity;return e},W=function(t){var e=t.data;return q(e.name)},J=e.dispatch("customMouseOver","customMouseOut","customMouseMove");return t.colorScheme=function(t){return arguments.length?(Y=t,this):Y},t.externalRadius=function(t){return arguments.length?(M=t,this):M},t.height=function(t){return arguments.length?(b=t,this):b},t.internalRadius=function(t){return arguments.length?(w=t,this):w},t.margin=function(t){return arguments.length?(C=t,this):C},t.width=function(t){return arguments.length?(x=t,this):x},t.exportChart=function(e){r.call(t,G,e)},e.rebind(t,J,"on"),t}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(e,n){e.exports=t},function(t,e,n){var r;r=function(t){"use strict";function e(t,e){var n=this.width(),i=this.height(),u=a(t),d=o(n,i),l=c(u);l.onload=r.bind(l,d,e)}function r(t,e,n){n.preventDefault(),i(this,t),u(t,e||f.defaultFilename)}function a(t){var e=d.initializeSerializer();if(t){t.attr({version:1.1,xmlns:"http://www.w3.org/2000/svg"});var n=e(t.node());return n.replace(">",">"+f.styleBackgroundString)}}function o(t,e){var n=document.createElement("canvas");return n.height=e,n.width=t,n}function c(t){var e=new Image;return e.src=""+f.imageSourceBase+l(t),e}function i(t,e){e.getContext("2d").drawImage(t,0,0)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"britechart.png",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=t.toDataURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}var d=n(3),l=window.btoa;l||(l=n(4).encode);var f={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"white",imageSourceBase:"data:image/svg+xml;base64,",get styleBackgroundString(){return"<style>svg{background:"+this.chartBackground+";}</style>"}};return e}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e){"use strict";t.exports=function(){return{initializeSerializer:function(){function t(t){var e={},n=document.body.appendChild(document.createElement(t)),r=window.getComputedStyle(n);return[].forEach.call(r,function(t){e[t]=r[t]}),document.body.removeChild(n),e}function e(e){return e=e.toUpperCase(),r[e]||(r[e]=t(e)),r[e]}function n(t){var n=[],r=void 0,o=void 0,c=void 0,i=void 0;return t&&t.nodeType===Node.ELEMENT_NODE?(n=[],r=t.querySelectorAll("*"),[].forEach.call(r,function(t,r){a[t.tagName]||(o=window.getComputedStyle(t),c=e(t.tagName),n[r]=t.style.cssText,[].forEach.call(o,function(e){o[e]!==c[e]&&(t.style[e]=o[e])}))}),i=t.outerHTML,r=[].map.call(r,function(t,e){return t.style.cssText=n[e],t}),i):void console.error("Error: Object passed in to serializeWithSyles not of nodeType Node.ELEMENT_NODE")}var r={},a={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},o=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"];return[].forEach.call(o,function(e){a[e]||(r[e]=t(e))}),n}}}()},function(t,e,n){var r;(function(t,a){!function(o){var c="object"==typeof e&&e,i=("object"==typeof t&&t&&t.exports==c&&t,"object"==typeof a&&a);i.global!==i&&i.window!==i||(o=i);var u=function(t){this.message=t};u.prototype=new Error,u.prototype.name="InvalidCharacterError";var d=function(t){throw new u(t)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,s=function(t){t=String(t).replace(f,"");var e=t.length;e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&d("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,a=0,o="",c=-1;++c<e;)r=l.indexOf(t.charAt(c)),n=a%4?64*n+r:r,a++%4&&(o+=String.fromCharCode(255&n>>(-2*a&6)));return o},h=function(t){t=String(t),/[^\0-\xFF]/.test(t)&&d("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,a,o=t.length%3,c="",i=-1,u=t.length-o;++i<u;)e=t.charCodeAt(i)<<16,n=t.charCodeAt(++i)<<8,r=t.charCodeAt(++i),a=e+n+r,c+=l.charAt(a>>18&63)+l.charAt(a>>12&63)+l.charAt(a>>6&63)+l.charAt(63&a);return 2==o?(e=t.charCodeAt(i)<<8,n=t.charCodeAt(++i),a=e+n,c+=l.charAt(a>>10)+l.charAt(a>>4&63)+l.charAt(a<<2&63)+"="):1==o&&(a=t.charCodeAt(i),c+=l.charAt(a>>2)+l.charAt(a<<4&63)+"=="),c},p={encode:h,decode:s,version:"0.1.0"};r=function(){return p}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(5)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){var r;r=function(t){var e={lineHeight:1.2,smallTextOffset:10,smallTextLineHeightRatio:.9,smallTextRatio:.4,valueClassName:"value",labelClassName:"label"},n=function(t,n,r,a,o){var c=d3.select(r),i=c.text().split(/\s+/).reverse(),u=void 0,d=[],l=0,f=e.lineHeight*e.smallTextLineHeightRatio,s=c.attr("y"),h=parseFloat(c.attr("dy")),p=t*e.smallTextRatio,g=c.text(null).append("tspan").attr("x",0).attr("y",s-5).attr("dy",h+"em").classed(e.valueClassName,!0).style("font-size",t+"px");for(g.text(i.pop()),g=c.append("tspan").classed(e.labelClassName,!0).attr("x",0).attr("y",s+e.smallTextOffset).attr("dy",++l*f+h+"em").style("font-size",p+"px");u=i.pop();)d.push(u),g.text(d.join(" ")),g.node().getComputedTextLength()>n-50&&(d.pop(),g.text(d.join(" ")),d=[u],g=c.append("tspan").classed(e.labelClassName,!0).attr("x",0).attr("y",s+e.smallTextOffset).attr("dy",++l*f+h+"em").text(u).style("font-size",p+"px"))};return{wrapText:n}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,n){var r;r=function(t){var e=["#6CEDC8","#3DC3C9","#FBC670","#F766B8","#998EE3","#824a9e"],n=["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],r={greenBlueGradient:["#39C7EA","#4CDCBA"]},a=["#f9e9c5","#fcc870","#ffa71a","#fb8825","#f6682f","#db5a2c","#bf4c28","#a43b1c","#892a10"],o=["#ccf7f6","#70e4e0","#00d8d2","#00acaf","#007f8c","#005e66","#003c3f","#002d2f","#0d2223"],c=["#ccfffe","#94f7f4","#00fff8","#1de1e1","#39c2c9","#2e9a9d","#227270","#1a5957","#133f3e"],i=["#edfff7","#d7ffef","#c0ffe7","#95f5d7","#6aedc7","#59c3a3","#479980","#34816a","#206953"],u=["#f9f2b3","#fbe986","#fce05a","#fed72d","#ffce00","#fcc11c","#f9b438","#eda629","#e09819"],d=["#fdd1ea","#fb9cd2","#f866b9","#fc40b6","#ff1ab3","#e3239d","#c62c86","#a62073","#85135f"],l=["#ddd6fc","#bbb1f0","#998ce3","#8e6bc1","#824a9e","#77337f","#6b1c60","#591650","#470f3f"],f=["#ffd8d4","#ffb5b0","#ff938c","#ff766c","#ff584c","#f04b42","#e03d38","#be2e29","#9c1e19"];return{britechartsColorSchema:e,britechartsGreySchema:n,britechartGradients:r,extendedOrangeColorSchema:a,extendedBlueColorSchema:o,extendedLightBlueColorSchema:c,extendedGreenColorSchema:i,extendedYellowColorSchema:u,extendedPinkColorSchema:d,extendedPurpleColorSchema:l,extendedRedColorSchema:f}}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}])});
//# sourceMappingURL=donut.min.js.map