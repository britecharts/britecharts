{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a433c8ffe9601339258a","webpack:///./src/charts/bar.js","webpack:///external \"d3\""],"names":[],"mappings":"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","file":"bar.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\")) : factory(root[\"d3\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a433c8ffe9601339258a\n **/","define(function(require){\n    'use strict';\n\n    const d3 = require('d3');\n\n    /**\n     * @typdef D3Selection\n     * @type Array[]\n     */\n\n    /**\n     * @fileOverview Bar Chart reusable API class that renders a\n     * simple and configurable bar chart.\n     *\n     * @tutorial bar\n     * @exports charts/bar\n     * @requires d3\n     * @version 0.0.3\n     */\n    return function module(){\n\n        let margin = {top: 20, right: 20, bottom: 30, left: 40},\n            width = 960,\n            height = 500,\n            ease = 'ease',\n            gap = 2,\n            data,\n            chartWidth, chartHeight,\n            xScale, yScale,\n            xAxis, yAxis,\n            svg,\n\n            // Dispatcher object to broadcast the 'customHover' event\n            // Ref: https://github.com/mbostock/d3/wiki/Internals#d3_dispatch\n            dispatch = d3.dispatch('customHover'),\n\n            // extractors\n            getLetter = d => d.letter,\n            getFrequency = d => d.frequency;\n\n\n        /**\n         * This function creates the graph using the selection as container\n         * @param  {D3Selection} _selection A d3 selection that represents\n         *                                  the container(s) where the chart(s) will be rendered\n         */\n        function exports(_selection){\n            /* @param {object} _data The data to attach and generate the chart */\n            _selection.each(function(_data){\n                chartWidth = width - margin.left - margin.right;\n                chartHeight = height - margin.top - margin.bottom;\n                data = _data;\n\n                buildScales();\n                buildAxis();\n                buildSVG(this);\n                drawBars();\n                drawAxis();\n            });\n        }\n\n        /**\n         * Creates the d3 x and y axis, setting orientations\n         * @private\n         */\n        function buildAxis(){\n            xAxis = d3.svg.axis()\n                .scale(xScale)\n                .orient('bottom');\n\n            yAxis = d3.svg.axis()\n                .scale(yScale)\n                .orient('left')\n                .ticks(10, '%');\n        }\n\n        /**\n         * Builds containers for the chart, the axis and a wrapper for all of them\n         * Also applies the Margin convention\n         * @private\n         */\n        function buildContainerGroups(){\n            let container = svg.append('g')\n                .classed('container-group', true)\n                .attr({\n                    transform: `translate(${margin.left}, ${margin.top})`\n                });\n\n            container.append('g').classed('chart-group', true);\n            container.append('g').classed('x-axis-group axis', true);\n            container.append('g').classed('y-axis-group axis', true);\n        }\n\n        /**\n         * Creates the x and y scales of the graph\n         * @private\n         */\n        function buildScales(){\n            xScale = d3.scale.ordinal()\n                .domain(data.map(getLetter))\n                .rangeRoundBands([0, chartWidth], 0.1);\n\n            yScale = d3.scale.linear()\n                .domain([0, d3.max(data, getFrequency)])\n                .range([chartHeight, 0]);\n        }\n\n        /**\n         * Builds the SVG element that will contain the chart\n         * @param  {HTMLElement} container DOM element that will work as the container of the graph\n         * @private\n         */\n        function buildSVG(container){\n            if (!svg) {\n                svg = d3.select(container)\n                    .append('svg')\n                    .classed('britechart bar-chart', true);\n\n                buildContainerGroups();\n            }\n            svg.transition().attr({\n                width: width + margin.left + margin.right,\n                height: height + margin.top + margin.bottom\n            });\n        }\n\n        /**\n         * Draws the x and y axis on the svg object within their\n         * respective groups\n         * @private\n         */\n        function drawAxis(){\n            svg.select('.x-axis-group.axis')\n                .transition()\n                .ease(ease)\n                .attr('transform', 'translate(0,' + chartHeight + ')')\n                .call(xAxis);\n\n            svg.select('.y-axis-group.axis')\n                .call(yAxis);\n        }\n\n        /**\n         * Draws the bar elements within the chart group\n         * @private\n         */\n        function drawBars(){\n            let gapSize = xScale.rangeBand() / 100 * gap,\n                barW = xScale.rangeBand() - gapSize,\n                bars = svg.select('.chart-group').selectAll('.bar').data(data);\n\n            // Enter\n            bars.enter()\n                .append('rect')\n                .classed('bar', true)\n                .attr({\n                    width: barW,\n                    x: chartWidth, // Initially drawing the bars at the end of Y axis\n                    y: function(d) { return yScale(d.frequency); },\n                    height: function(d) { return chartHeight - yScale(d.frequency); }\n                })\n                .on('mouseover', dispatch.customHover);\n\n            // Update\n            bars.transition()\n                .ease(ease)\n                .attr({\n                    width: barW,\n                    x: function(d) { return xScale(d.letter) + gapSize/2; },\n                    y: function(d) { return yScale(d.frequency); },\n                    height: function(d) { return chartHeight - yScale(d.frequency); }\n                });\n\n            // Exit\n            bars.exit()\n                .transition().style({ opacity: 0 }).remove();\n        }\n\n        /**\n         * Gets or Sets the margin of the chart\n         * @param  {object} _x Margin object to get/set\n         * @return { margin | module} Current margin or Bar Chart module to chain calls\n         * @public\n         */\n        exports.margin = function(_x) {\n            if (!arguments.length) {\n                return margin;\n            }\n            margin = _x;\n            return this;\n        };\n\n        /**\n         * Gets or Sets the width of the chart\n         * @param  {number} _x Desired width for the graph\n         * @return { width | module} Current width or Bar Chart module to chain calls\n         * @public\n         */\n        exports.width = function(_x) {\n            if (!arguments.length) {\n                return width;\n            }\n            width = _x;\n            return this;\n        };\n\n        /**\n         * Gets or Sets the height of the chart\n         * @param  {number} _x Desired width for the graph\n         * @return { height | module} Current height or Bar Chart module to chain calls\n         * @public\n         */\n        exports.height = function(_x) {\n            if (!arguments.length) {\n                return height;\n            }\n            height = _x;\n            return this;\n        };\n\n        // Copies the method \"on\" from dispatch to exports, making it accesible\n        // from outside\n        // Reference: https://github.com/mbostock/d3/wiki/Internals#rebind\n        d3.rebind(exports, dispatch, 'on');\n\n        return exports;\n    };\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/bar.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 1\n ** module chunks = 0 1 2 3 4\n **/"],"sourceRoot":""}