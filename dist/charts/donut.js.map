{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///webpack/bootstrap a433c8ffe9601339258a?63cf","webpack:///./src/charts/donut.js","webpack:///external \"d3\"?c0c4"],"names":[],"mappings":"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","file":"donut.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"d3\")) : factory(root[\"d3\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a433c8ffe9601339258a\n **/","define(function(require){\n    'use strict';\n\n    const d3 = require('d3');\n\n    /**\n     * @typdef D3Selection\n     * @type Array[]\n     */\n\n    /**\n     * @fileOverview Reusable Donut Chart API class that renders a\n     * simple and configurable donut chart.\n     *\n     * @tutorial donut\n     * @exports charts/donut\n     * @requires d3\n     * @version 0.0.1\n     */\n    return function module() {\n\n        let margin = {\n                top: 60,\n                right: 60,\n                bottom: 60,\n                left: 60\n            },\n            width = 300,\n            height = 300,\n            ease = 'cubic-in-out',\n            arcTransitionDuration = 750,\n            pieDrawingTransitionDuration = 1200,\n            pieHoverTransitionDuration = 150,\n            radiusHoverOffset = 15,\n            paddingAngle = 0.015,\n            data,\n            chartWidth, chartHeight,\n            externalRadius = 140,\n            internalRadius = 45.5,\n            legendWidth = externalRadius + internalRadius,\n            layout,\n            shape,\n            slices,\n            svg,\n\n            // colors\n            colorScale = d3.scale.category20c(),\n            colorScheme = ['#00AF38', '#41C2C9', '#F6C664', '#F4693A', '#9A66D7'],\n\n            // utils\n            storeAngle = function(d) {\n                this._current = d;\n            },\n            reduceOuterRadius = d => {\n                d.outerRadius = externalRadius - radiusHoverOffset;\n            },\n            sortComparator = (a, b) => b.quantity - a.quantity,\n\n            // extractors\n            getQuantity = d => parseInt(d.quantity, 10),\n            getSliceFill = d => colorScale(d.data.name),\n\n            // events\n            dispatch = d3.dispatch('customMouseOver', 'customMouseOut', 'customMouseMove');\n\n        /**\n         * This function creates the graph using the selection as container\n         * @param  {D3Selection} _selection A d3 selection that represents\n         *                                  the container(s) where the chart(s) will be rendered\n         */\n        function exports(_selection) {\n            /* @param {object} _data The data to attach and generate the chart */\n            _selection.each(function(_data) {\n                chartWidth = width - margin.left - margin.right;\n                chartHeight = height - margin.top - margin.bottom;\n                data = _data;\n\n                buildLayout();\n                buildColorScale();\n                buildShape();\n                buildSVG(this);\n                drawSlices();\n                initTooltip();\n            });\n        }\n\n        /**\n         * Builds color scale for chart, if any colorScheme was defined\n         * @private\n         */\n        function buildColorScale() {\n            if (colorScheme) {\n                colorScale = d3.scale.ordinal().range(colorScheme);\n            }\n        }\n\n        /**\n         * Builds containers for the chart, the legend and a wrapper for all of them\n         * @private\n         */\n        function buildContainerGroups() {\n            let container = svg.append('g')\n                .classed('container-group', true)\n                .attr({\n                    transform: `translate(${width / 2}, ${height / 2})`\n                });\n\n            container.append('g').classed('chart-group', true);\n            container.append('g').classed('legend-group', true);\n        }\n\n        /**\n         * Builds the pie layout that will produce data ready to draw\n         * @private\n         */\n        function buildLayout() {\n            layout = d3.layout.pie()\n                .padAngle(paddingAngle)\n                .value(getQuantity)\n                .sort(sortComparator);\n        }\n\n        /**\n         * Builds the shape function\n         * @private\n         */\n        function buildShape() {\n            shape = d3.svg.arc()\n                .innerRadius(internalRadius)\n                .padRadius(externalRadius);\n        }\n\n        /**\n         * Builds the SVG element that will contain the chart\n         * @param  {HTMLElement} container DOM element that will work as the container of the graph\n         * @private\n         */\n        function buildSVG(container) {\n            svg = d3.select(container)\n                .selectAll('svg')\n                .data([data]);\n\n            svg.enter().append('svg')\n                .attr('class', 'britechart donut-chart');\n\n            buildContainerGroups();\n\n            svg.transition().ease(ease)\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom);\n        }\n\n        /**\n         * Draws the values on the donut slice inside the text element\n         * @param  {obj} obj Data object\n         * @private\n         */\n        function drawLegend(obj) {\n            if (obj.data) {\n                svg.select('.donut-text')\n                    .text(() => `${obj.data.percentage}% ${ obj.data.name}`)\n                    .attr('dy', '.2em')\n                    .attr('text-anchor', 'middle');\n\n                svg.select('.donut-text').call(wrapText, legendWidth);\n            }\n        }\n\n        /**\n         * Draws the slices of the donut\n         * @private\n         */\n        function drawSlices() {\n            if (!slices) {\n                slices = svg.select('.chart-group')\n                    .selectAll('g.arc')\n                    .data(layout(data));\n\n                slices.enter()\n                    .append('g')\n                    .each(storeAngle)\n                    .each(reduceOuterRadius)\n                    .classed('arc', true)\n                    .on('mouseover', handleMouseOver)\n                    .on('mouseout', handleMouseOut);\n\n                slices\n                    .append('path')\n                    .attr('fill', getSliceFill)\n                    .on('mouseover', tweenGrowthFactory(externalRadius, 0))\n                    .on('mouseout', tweenGrowthFactory(externalRadius - radiusHoverOffset, pieHoverTransitionDuration))\n                  .transition()\n                    .ease(ease)\n                    .duration(pieDrawingTransitionDuration)\n                    .attrTween('d', tweenLoading);\n\n            } else {\n                slices = svg.select('.chart-group')\n                    .selectAll('path')\n                    .data(layout(data));\n\n                slices\n                    .attr('d', shape);\n\n                // Redraws the angles of the data\n                slices\n                    .transition().duration(arcTransitionDuration)\n                    .attrTween('d', tweenArc);\n            }\n        }\n\n        /**\n         * Cleans any value that could be on the legend text element\n         * @private\n         */\n        function cleanLegend() {\n            svg.select('.donut-text').text('');\n        }\n\n        function handleMouseOver(datum) {\n            drawLegend(datum);\n\n            dispatch.customMouseOver(datum);\n        }\n\n        function handleMouseOut() {\n            cleanLegend();\n\n            dispatch.customMouseOut();\n        }\n\n        /**\n         * Creates the text element that will hold the legend of the chart\n         */\n        function initTooltip() {\n            svg.select('.legend-group')\n                .append('text')\n                .attr('class', 'donut-text');\n        }\n\n        /**\n         * Stores current angles and interpolates with new angles\n         * @param {obj} a New data for slice\n         *\n         * Check out {@link http://bl.ocks.org/mbostock/1346410| this example}\n         * @private\n         */\n        function tweenArc(a) {\n            let i = d3.interpolate(this._current, a);\n\n            this._current = i(0);\n\n            return function(t) {\n                return shape(i(t));\n            };\n        }\n\n        /**\n         * Generates animations with tweens depending on the attributes given\n         * @param  {number} outerRadius Final outer radius value\n         * @param  {number} delay       Delay of animation\n         * @return {function}           Function that when called will tween the element\n         * @private\n         */\n        function tweenGrowthFactory(outerRadius, delay) {\n            return function() {\n                d3.select(this)\n                    .transition()\n                    .delay(delay)\n                    .attrTween('d', function(d) {\n                        let i = d3.interpolate(d.outerRadius, outerRadius);\n\n                        return (t) => {\n                            d.outerRadius = i(t);\n\n                            return shape(d);\n                        };\n                    });\n            };\n        }\n\n        /**\n         * Animation for chart loading\n         * @param  {obj} b Data point\n         * @return {funct}   Tween function\n         * Check out {@link http://bl.ocks.org/mbostock/4341574| this example}\n         * @private\n         */\n        function tweenLoading(b) {\n            let i;\n\n            b.innerRadius = 0;\n            i = d3.interpolate({ startAngle: 0, endAngle: 0}, b);\n\n            return function(t) { return shape(i(t)); };\n        }\n\n        /**\n         * Utility function that wraps a text into the given width\n         * TODO: Candidate to refactoring\n         * @param  {string} text         Text to write\n         * @param  {number} legendWidth Width of the container\n         * @private\n         */\n        function wrapText(text, legendWidth) {\n            text.each(function() {\n                let text = d3.select(this),\n                    words = text.text().split(/\\s+/).reverse(),\n                    word,\n                    line = [],\n                    lineNumber = 0,\n                    lineHeight = 1.2,\n                    smallLineHeight = lineHeight * 0.9,\n                    smallTextOffset = 15,\n                    y = text.attr('y'),\n                    dy = parseFloat(text.attr('dy')),\n                    fontSize = externalRadius / 4,\n                    smallFontSize = fontSize / 2.5,\n                    tspan = text.text(null).append('tspan')\n                        .attr('x', 0)\n                        .attr('y', y - 5)\n                        .attr('dy', dy + 'em')\n                        .classed('donut-value', true)\n                        .style('font-size', fontSize + 'px');\n\n                tspan.text(words.pop());\n                tspan = text.append('tspan')\n                    .classed('donut-label', true)\n                    .attr('x', 0)\n                    .attr('y', y + smallTextOffset)\n                    .attr('dy', ++lineNumber * smallLineHeight + dy + 'em')\n                    .style('font-size', smallFontSize + 'px');\n\n                while (word = words.pop()) {\n                    line.push(word);\n                    tspan.text(line.join(' '));\n                    if (tspan.node().getComputedTextLength() > legendWidth - 50) {\n                        line.pop();\n                        tspan.text(line.join(' '));\n                        line = [word];\n                        tspan = text.append('tspan')\n                            .classed('donut-label', true)\n                            .attr('x', 0)\n                            .attr('y', y+ smallTextOffset)\n                            .attr('dy', ++lineNumber * smallLineHeight + dy + 'em')\n                            .text(word)\n                            .style('font-size', smallFontSize + 'px');\n                    }\n                }\n            });\n        }\n\n        /**\n         * Gets or Sets the colorScheme of the chart\n         * @param  {array} _x Color scheme array to get/set\n         * @return { colorScheme | module} Current colorScheme or Donut Chart module to chain calls\n         * @public\n         */\n        exports.colorScheme = function(_x) {\n            if (!arguments.length) {\n                return colorScheme;\n            }\n            colorScheme = _x;\n            return this;\n        };\n\n        /**\n         * Gets or Sets the externalRadius of the chart\n         * @param  {number} _x ExternalRadius number to get/set\n         * @return { externalRadius | module} Current externalRadius or Donut Chart module to chain calls\n         * @public\n         */\n        exports.externalRadius = function(_x) {\n            if (!arguments.length) {\n                return externalRadius;\n            }\n            externalRadius = _x;\n            return this;\n        };\n\n        /**\n         * Gets or Sets the height of the chart\n         * @param  {number} _x Desired width for the graph\n         * @return { height | module} Current height or Donut Chart module to chain calls\n         * @public\n         */\n        exports.height = function(_x) {\n            if (!arguments.length) {\n                return height;\n            }\n            height = _x;\n            return this;\n        };\n\n        /**\n         * Gets or Sets the internalRadius of the chart\n         * @param  {number} _x InternalRadius number to get/set\n         * @return { internalRadius | module} Current internalRadius or Donut Chart module to chain calls\n         * @public\n         */\n        exports.internalRadius = function(_x) {\n            if (!arguments.length) {\n                return internalRadius;\n            }\n            internalRadius = _x;\n            return this;\n        };\n\n        /**\n         * Gets or Sets the margin of the chart\n         * @param  {object} _x Margin object to get/set\n         * @return { margin | module} Current margin or Donut Chart module to chain calls\n         * @public\n         */\n        exports.margin = function(_x) {\n            if (!arguments.length) {\n                return margin;\n            }\n            margin = _x;\n            return this;\n        };\n\n        /**\n         * Gets or Sets the width of the chart\n         * @param  {number} _x Desired width for the graph\n         * @return { width | module} Current width or Donut Chart module to chain calls\n         * @public\n         */\n        exports.width = function(_x) {\n            if (!arguments.length) {\n                return width;\n            }\n            width = _x;\n            return this;\n        };\n\n        // Rebind 'customHover' event to the \"exports\" function, so it's available \"externally\" under the typical \"on\" method:\n        d3.rebind(exports, dispatch, 'on');\n\n        return exports;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/charts/donut.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 1\n ** module chunks = 0 1 2 3 4\n **/"],"sourceRoot":""}